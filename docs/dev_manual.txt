Руководство разработчика

Данное руководство содержит инструкции для сборки исполняемых файлов проекта.

1. Зависимости

Создание локальной копии проекта потребует пакет git.
Сборка проекта для целевой платформы потребует установку virtualbox и загрузки образа ОС.
Сборка проекта с помощью CMake, потребует установку пакета cmake.
Установка файлов на контроллер потребует пакета sshpass

2. Доступ к исходному коду ПО

Исходный код программного обеспечения размещен: https://github.com/youkozlov/spgate
Для загрузки ПО необходимо создать локальную копию проекта.
$ git clone https://github.com/youkozlov/spgate.git


3. Сборка проекта для целевой платформы

Сборка под целевую платформу потребует установку virtualbox и загрузки образа операционной системы с сайта segnetics.
Ресурс: https://dl.segnetics.com/PRODUCTS/SMH4/C/LinuxVM/ - содержит инструкцию и необходимое ПО для установки и запуска образа операционной системы.

В процессе разработки был использован образ ОС:
SMH4_toolchain-disk1.rar	18-Oct-2017 14:01 	1.7G	Образ виртуальной машины (Ubuntu 32 bit)

Порядок действий:
    - запустить образ ОС
    - установить пакет git если не установлен
      $ sudo apt-get install git
    - создать локальную копию проекта если не создана
      $ cd
      $ cd workspace/projects
      $ git clone https://github.com/youkozlov/spgate.git
      $ cd spgate
    - собрать проект
      $ ./run_build.sh

5. Установка программного обеспечения

Установка и обновление программного обеспечения выполняется путем запуска скрипта run_install.sh. При этом предполагается что сетевое соединение с контроллером установлено. По умолчанию ip адрес контроллера задан: 192.168.1.213, пароль segnetics.

6. Сборка проекта для целей тестирования

Данный режим сборки не требует специального образа ОС.
Порядок действий:
    - создать локальную копию проекта если не создана
      $ git clone https://github.com/youkozlov/spgate.git
      $ cd spgate
      $ git submodule update --init
    - собрать проект
      $ mkdir build_cmake
      $ cd build_cmake
      $ cmake ..
      $ make
    - выполнить запуск тестов
      $ bin/spgate_ut
